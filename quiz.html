<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz: K√§vlinge kommun - Sektor Arbetsliv och fritid</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a5a3a 0%, #2d7a52 100%);
            min-height: 100vh;
            padding: 2rem;
            line-height: 1.6;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        header {
            background: linear-gradient(135deg, #1a5a3a 0%, #2d7a52 100%);
            color: white;
            padding: 2rem;
            text-align: center;
        }

        header h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        header p {
            opacity: 0.9;
            font-size: 1.1rem;
        }

        .quiz-content {
            padding: 2rem;
        }

        .question-container {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .question-container.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .question-number {
            color: #1a5a3a;
            font-weight: 600;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .question-text {
            font-size: 1.3rem;
            color: #333;
            margin-bottom: 1.5rem;
            font-weight: 500;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .option {
            background: #f8f9fa;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 1rem 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .option:hover {
            background: #e8f5e9;
            border-color: #2d7a52;
            transform: translateX(5px);
        }

        .option.selected {
            background: #c4a35a;
            border-color: #c4a35a;
            color: white;
        }

        .option.correct {
            background: #4caf50;
            border-color: #4caf50;
            color: white;
        }

        .option.incorrect {
            background: #f44336;
            border-color: #f44336;
            color: white;
        }

        .option.disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        .option-letter {
            font-weight: 700;
            font-size: 1.2rem;
            min-width: 30px;
        }

        .explanation {
            display: none;
            background: #e7f3ff;
            border-left: 4px solid #2196F3;
            padding: 1.5rem;
            margin-top: 1.5rem;
            border-radius: 5px;
        }

        .explanation.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .explanation h4 {
            color: #2196F3;
            margin-bottom: 0.75rem;
        }

        .explanation p {
            margin-bottom: 0.5rem;
            color: #333;
        }

        .reference {
            font-size: 0.85rem;
            font-style: italic;
            color: #666;
            margin-top: 1rem;
            padding-top: 0.75rem;
            border-top: 1px solid #ddd;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 2px solid #eee;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background: #1a5a3a;
            color: white;
        }

        .btn-primary:hover {
            background: #2d7a52;
            transform: scale(1.05);
        }

        .btn-primary:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: #c4a35a;
            color: white;
        }

        .btn-secondary:hover {
            background: #b89350;
            transform: scale(1.05);
        }

        .result-container {
            display: none;
            text-align: center;
            padding: 2rem;
        }

        .result-container.show {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .result-score {
            font-size: 4rem;
            font-weight: 700;
            color: #1a5a3a;
            margin: 1rem 0;
        }

        .result-message {
            font-size: 1.3rem;
            color: #333;
            margin-bottom: 2rem;
        }

        .score-bar {
            background: #e0e0e0;
            height: 30px;
            border-radius: 15px;
            overflow: hidden;
            margin: 2rem 0;
        }

        .score-fill {
            height: 100%;
            background: linear-gradient(90deg, #1a5a3a 0%, #2d7a52 100%);
            transition: width 1s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }

        .progress {
            text-align: center;
            color: #666;
            margin-bottom: 1rem;
            font-size: 0.9rem;
        }

        .intro-screen {
            padding: 2rem;
            text-align: center;
        }

        .intro-screen h2 {
            color: #1a5a3a;
            margin-bottom: 1rem;
        }

        .intro-screen p {
            color: #666;
            margin-bottom: 1rem;
            font-size: 1.05rem;
        }

        .intro-screen ul {
            text-align: left;
            max-width: 600px;
            margin: 1.5rem auto;
            background: #f8f9fa;
            padding: 1.5rem 2rem;
            border-radius: 10px;
        }

        .intro-screen li {
            margin-bottom: 0.5rem;
            color: #333;
        }

        @media (max-width: 768px) {
            body {
                padding: 1rem;
            }

            header h1 {
                font-size: 1.5rem;
            }

            .question-text {
                font-size: 1.1rem;
            }

            .result-score {
                font-size: 3rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üèõÔ∏è Quiz: K√§vlinge kommun</h1>
            <p>Sektor Arbetsliv och fritid - Controller-tj√§nsten</p>
        </header>

        <!-- INTRO SCREEN -->
        <div id="introScreen" class="intro-screen">
            <h2>V√§lkommen till quizet!</h2>
            <p>Detta quiz testar din kunskap om Sektor Arbetsliv och fritid i K√§vlinge kommun samt controller-tj√§nsten.</p>
            
            <ul>
                <li>üìù <strong>10 fr√•gor</strong> med 4 svarsalternativ vardera</li>
                <li>üéØ Kluriga fr√•gor f√∂r b√•de s√∂kande och anst√§llda</li>
                <li>üí° Detaljerade f√∂rklaringar till varje svar</li>
                <li>üìö Referenser i Harvard-stil</li>
                <li>‚è±Ô∏è Ta dig tid att t√§nka efter!</li>
            </ul>

            <p style="margin-top: 2rem;"><strong>Lycka till!</strong></p>
            <button class="btn btn-primary" onclick="startQuiz()" style="margin-top: 1rem;">Starta quiz</button>
        </div>

        <!-- QUIZ CONTENT -->
        <div id="quizContent" class="quiz-content" style="display: none;">
            <div class="progress">
                Fr√•ga <span id="currentQuestion">1</span> av <span id="totalQuestions">10</span>
            </div>

            <!-- Questions will be inserted here by JavaScript -->
            <div id="questionsContainer"></div>

            <div class="navigation">
                <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()" style="display: none;">‚Üê F√∂reg√•ende</button>
                <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()" disabled>N√§sta ‚Üí</button>
            </div>
        </div>

        <!-- RESULT SCREEN -->
        <div id="resultScreen" class="result-container">
            <h2>üéâ Quiz avslutat!</h2>
            <div class="result-score" id="finalScore">0/10</div>
            <div class="score-bar">
                <div class="score-fill" id="scoreFill" style="width: 0%;">
                    <span id="scorePercent">0%</span>
                </div>
            </div>
            <p class="result-message" id="resultMessage"></p>
            <button class="btn btn-primary" onclick="restartQuiz()">G√∂r om quizet</button>
            <button class="btn btn-secondary" onclick="reviewAnswers()" style="margin-left: 1rem;">Granska svar</button>
        </div>
    </div>

    <script>
        // UPPDATERING 2026-01-12: Quiz om K√§vlinge kommun - Sektor Arbetsliv och fritid
        const quizData = [
            {
                question: "Hur m√•nga medarbetare arbetar inom Sektor Arbetsliv och fritid i K√§vlinge kommun?",
                options: [
                    "Cirka 100 medarbetare",
                    "Cirka 150 medarbetare",
                    "Cirka 200 medarbetare",
                    "Cirka 75 medarbetare"
                ],
                correct: 1,
                explanation: {
                    correct: "R√§tt! Sektor Arbetsliv och fritid best√•r av cirka 150 engagerade medarbetare. Detta √§r en betydande personalstyrka som t√§cker in m√•nga olika verksamhetsomr√•den ‚Äì fr√•n bibliotek och kulturskola till socialtj√§nst och vuxenutbildning.",
                    incorrect: "Fel svar. Enligt K√§vlinge kommuns jobbportal best√•r Sektor Arbetsliv och fritid av cirka 150 engagerade medarbetare. Detta kan verka som en ov√§ntat stor siffra f√∂r den som √§r ny p√• kommunen, men sektorn t√§cker in m√•nga olika verksamhetsomr√•den som kr√§ver bred kompetens.",
                    reference: "K√§vlinge kommun (2026) Arbetsliv och fritid. Tillg√§nglig: https://jobb.kavlinge.se/department/arbetslivochfritid/ [H√§mtad 12 januari 2026]."
                }
            },
            {
                question: "Vilken av f√∂ljande verksamheter ing√•r INTE i Sektor Arbetsliv och fritid?",
                options: [
                    "Kulturskolan",
                    "Gymnasie- och vuxenutbildning",
                    "R√§ddningstj√§nsten",
                    "Familjebehandling/st√∂dboende"
                ],
                correct: 2,
                explanation: {
                    correct: "Korrekt! R√§ddningstj√§nsten ing√•r inte i Sektor Arbetsliv och fritid. R√§ddningstj√§nsten √§r vanligtvis en separat verksamhet i kommunen eller ing√•r i en r√§ddningstj√§nstf√∂rbund. Sektor Arbetsliv och fritid fokuserar p√• verksamheter som bibliotek, kulturskola, fritidsg√•rdar, vuxenutbildning och vissa delar av socialtj√§nsten.",
                    incorrect: "Fel. R√§ddningstj√§nsten ing√•r inte i Sektor Arbetsliv och fritid. Sektorn omfattar ist√§llet verksamheter som arbete och integration, bibliotek, familjebehandling/st√∂dboende, fritidsg√•rdar/anl√§ggningar, gymnasie- och vuxenutbildning, kulturskolan, mottagning/barnutredare och vuxenenhet. Detta √§r en kluring fr√•ga eftersom r√§ddningstj√§nst kan verka som en fritidsverksamhet, men den √§r en helt separat funktion i kommunen.",
                    reference: "K√§vlinge kommun (2026) Arbetsliv och fritid. Tillg√§nglig: https://jobb.kavlinge.se/department/arbetslivochfritid/ [H√§mtad 12 januari 2026]."
                }
            },
            {
                question: "Vilka tre lagar √§r s√§rskilt viktiga f√∂r Sektor Arbetsliv och fritids arbete?",
                options: [
                    "Kommunallagen, Plan- och bygglagen, Milj√∂balken",
                    "Bibliotekslagen, Skollagen, Socialtj√§nstlagen",
                    "Arbetsmilj√∂lagen, LAS, Diskrimineringslagen",
                    "F√∂rvaltningslagen, Offentlighets- och sekretesslagen, Arkivlagen"
                ],
                correct: 1,
                explanation: {
                    correct: "Helt r√§tt! Sektorns arbete utg√•r fr√•n krav och m√•l i bibliotekslagen, skollagen och socialtj√§nstlagen. Detta speglar verksamheternas olika karakt√§rer: bibliotekslagen styr biblioteksverksamheten, skollagen reglerar gymnasie- och vuxenutbildning, och socialtj√§nstlagen √§r ramverket f√∂r familjebehandling och barn- och ungdomsarbete. Som controller beh√∂ver man f√∂rst√• hur dessa lagar p√•verkar verksamheternas ekonomi och m√•luppfyllelse.",
                    incorrect: "Fel. De tre centrala lagarna √§r bibliotekslagen, skollagen och socialtj√§nstlagen. √Ñven om de andra lagarna du valde ocks√• √§r viktiga i kommunal verksamhet, √§r det just dessa tre som √§r grunden f√∂r Sektor Arbetsliv och fritids uppdrag. Detta √§r viktigt att veta som controller eftersom lagkraven p√•verkar b√•de budget, resursbehov och hur verksamheten kan styras ekonomiskt.",
                    reference: "K√§vlinge kommun (2026) Arbetsliv och fritid. Tillg√§nglig: https://jobb.kavlinge.se/department/arbetslivochfritid/ [H√§mtad 12 januari 2026]."
                }
            },
            {
                question: "Vad √§r ett av sektorns huvudsyften enligt bibliotekslagen?",
                options: [
                    "Att √∂ka kommunens skatteint√§kter genom fler inv√•nare",
                    "Att verka f√∂r det demokratiska samh√§llets utveckling genom kunskapsf√∂rmedling och fri √•siktsbildning",
                    "Att digitalisera alla kommunala tj√§nster",
                    "Att fr√§mja turism och bes√∂ksn√§ring i kommunen"
                ],
                correct: 1,
                explanation: {
                    correct: "Utm√§rkt! Enligt bibliotekslagen ska biblioteksverksamheten verka f√∂r det demokratiska samh√§llets utveckling genom att bidra till kunskapsf√∂rmedling och fri √•siktsbildning. Detta √§r en grundl√§ggande demokratisk funktion som g√•r l√§ngre √§n bara att l√•na ut b√∂cker ‚Äì det handlar om tillg√•ng till information, bildning och en m√∂tesplats f√∂r alla medborgare oavsett bakgrund.",
                    incorrect: "Inte r√§tt. Bibliotekslagen f√∂reskriver att biblioteksverksamheten ska verka f√∂r det demokratiska samh√§llets utveckling genom att bidra till kunskapsf√∂rmedling och fri √•siktsbildning. Detta √§r en k√§rnuppgift som g√•r djupare √§n praktiska funktioner ‚Äì det √§r en demokratisk r√§ttighet. Som controller i sektorn √§r det viktigt att f√∂rst√• detta uppdrag eftersom det p√•verkar hur resurser ska f√∂rdelas och vilka verksamheter som prioriteras.",
                    reference: "Bibliotekslag (2013:801). Stockholm: Kulturdepartementet. Tillg√§nglig: https://www.riksdagen.se/sv/dokument-lagar/dokument/svensk-forfattningssamling/bibliotekslag-2013801_sfs-2013-801 [H√§mtad 12 januari 2026]."
                }
            },
            {
                question: "Vilken kompetens √§r MEST central f√∂r en controller i Sektor Arbetsliv och fritid, ut√∂ver traditionella ekonomiska f√§rdigheter?",
                options: [
                    "F√∂rdjupad kunskap om juridik och r√§ttsprocesser",
                    "F√∂rst√•else f√∂r verksamheternas olika karakt√§rer och lagstiftning inom utbildning, kultur och socialtj√§nst",
                    "Avancerad IT-utveckling och programmering",
                    "Marknadsf√∂ring och PR-kompetens"
                ],
                correct: 1,
                explanation: {
                    correct: "Helt r√§tt! Som controller i en s√• bred sektor beh√∂ver man verkligen f√∂rst√• verksamheternas olika karakt√§rer och den lagstiftning som styr dem. Det r√§cker inte med ekonomisk kompetens ‚Äì man m√•ste f√∂rst√• skillnaderna mellan skollagen, socialtj√§nstlagen och bibliotekslagen, samt hur dessa p√•verkar ekonomistyrning, budgetprocesser och uppf√∂ljning. Detta √§r verksamhetsn√§ra ekonomistyrning i praktiken.",
                    incorrect: "Fel. Det mest centrala √§r f√∂rst√•else f√∂r verksamheternas olika karakt√§rer och lagstiftning. Sektorn omfattar allt fr√•n utbildning och kultur till socialtj√§nst ‚Äì varje omr√•de har sina egna lagar, krav och ekonomiska f√∂ruts√§ttningar. En controller beh√∂ver f√∂rst√• dessa skillnader f√∂r att kunna ge r√§tt ekonomiskt st√∂d. Hypergene och andra system √§r verktyg, men utan verksamhetsf√∂rst√•else blir de mindre effektiva.",
                    reference: "K√§vlinge kommun (2025) PM Controller ‚Äì Sektor Arbetsliv och fritid. Intern handledning. K√§vlinge: K√§vlinge kommun."
                }
            },
            {
                question: "Vad √§r sektorns s√§rskilda fokusomr√•de n√§r det g√§ller k√§vlingebor med arbetsf√∂rm√•ga?",
                options: [
                    "Att de ska f√• tillg√•ng till fritidsaktiviteter",
                    "Att de ska bli sj√§lvf√∂rs√∂rjande",
                    "Att de ska delta i kulturskolan",
                    "Att de ska anv√§nda biblioteket regelbundet"
                ],
                correct: 1,
                explanation: {
                    correct: "Korrekt! Verksamheterna ska s√§rskilt fokusera p√• insatser f√∂r att k√§vlingebor med arbetsf√∂rm√•ga blir sj√§lvf√∂rs√∂rjande. Detta √§r en tydlig m√•ls√§ttning som speglar kommunens ansvar f√∂r arbetsmarknadsinsatser och integration. Det handlar om att skapa f√∂ruts√§ttningar f√∂r m√§nniskor att komma i arbete och kunna f√∂rs√∂rja sig sj√§lva, vilket √§r b√•de en ekonomisk och en social fr√•ga.",
                    incorrect: "Fel. Det korrekta svaret √§r att k√§vlingebor med arbetsf√∂rm√•ga ska bli sj√§lvf√∂rs√∂rjande. Detta √§r ett centralt m√•l f√∂r sektorns arbetsmarknads- och integrationsinsatser. Som controller √§r detta viktigt att f√∂rst√• eftersom investeringar i dessa verksamheter inte bara √§r kostnader ‚Äì de √§r insatser som potentiellt minskar kommunens framtida sociala utgifter och √∂kar skatteint√§kterna n√§r fler kommer i arbete.",
                    reference: "K√§vlinge kommun (2026) Arbetsliv och fritid. Tillg√§nglig: https://jobb.kavlinge.se/department/arbetslivochfritid/ [H√§mtad 12 januari 2026]."
                }
            },
            {
                question: "Vilket ekonomisystem anv√§nds som fr√§msta st√∂dsystem f√∂r controllern i K√§vlinge kommun?",
                options: [
                    "SAP",
                    "Hypergene",
                    "Raindance",
                    "Excel och Access"
                ],
                correct: 1,
                explanation: {
                    correct: "Riktigt! Hypergene √§r controllerns fr√§msta st√∂dsystem i K√§vlinge kommun. Hypergene √§r ett modernt BI- och planeringsverktyg som m√∂jligg√∂r avancerad ekonomisk planering, budgetering, prognoser och uppf√∂ljning. Som controller f√∂rv√§ntas du inte bara kunna anv√§nda systemet utan ocks√• kunna utveckla det ‚Äì skapa nya rapporter, dashboards och analyser som st√∂djer verksamheternas beslutsfattande.",
                    incorrect: "Fel. Hypergene √§r det prim√§ra st√∂dsystemet. Detta √§r ett viktigt system att beh√§rska eftersom det g√•r l√§ngre √§n traditionell ekonomiredovisning ‚Äì det √§r ett verktyg f√∂r strategisk ekonomistyrning. Raindance kan vara det underliggande ekonomisystemet, men Hypergene √§r verktyget f√∂r analys, planering och uppf√∂ljning. En erfaren Hypergene-anv√§ndare som ocks√• kan utveckla systemet √§r mycket v√§rdefull f√∂r kommunen.",
                    reference: "K√§vlinge kommun (2025) PM Controller ‚Äì Sektor Arbetsliv och fritid. Intern handledning. K√§vlinge: K√§vlinge kommun."
                }
            },
            {
                question: "Vad k√§nnetecknar arbetsplatskulturen i K√§vlinge kommun enligt medarbetarintervjuer?",
                options: [
                    "H√∂g personaloms√§ttning och stress",
                    "Konkret arbete med v√§rdegrunden och id√©rikedom med olika projekt",
                    "Strikt hierarkisk struktur",
                    "Fokus enbart p√• regelefterlevnad"
                ],
                correct: 1,
                explanation: {
                    correct: "Precis! Medarbetare beskriver K√§vlinge som en kommun d√§r man 'arbetar med v√§rdegrunden' ‚Äì inte bara som ledord utan som konkret handling. Kommunen beskrivs ocks√• som id√©rik med olika projekt, n√§stan som en 'entrepren√∂rskommun'. Detta √§r en viktig kulturaspekt f√∂r den som s√∂ker sig till kommunen ‚Äì det handlar om utveckling, inte bara f√∂rvaltning.",
                    incorrect: "Fel. K√§vlinge kommun beskrivs av medarbetare som en plats d√§r man konkret arbetar med v√§rdegrunden och √§r id√©rik med olika projekt. En medarbetare sa 'Wow! h√§r arbetar man med v√§rdegrunden' och beskrev kommunen som en form av 'entrepren√∂rskommun'. Detta √§r en kultur som passar den som vill utveckla och f√∂rb√§ttra, inte bara administrera. Som controller betyder detta att du f√∂rv√§ntas vara med och driva utveckling, inte bara rapportera siffror.",
                    reference: "K√§vlinge kommun (2026) Arbetsliv och fritid. Tillg√§nglig: https://jobb.kavlinge.se/department/arbetslivochfritid/ [H√§mtad 12 januari 2026]."
                }
            },
            {
                question: "Vad √§r en viktig utmaning som identifierats f√∂r K√§vlinge kommun enligt medarbetare?",
                options: [
                    "Brist p√• budget och resurser",
                    "Samverkan mellan olika sektorer som arbetar med samma familjer",
                    "F√∂r f√• medborgare",
                    "D√•lig IT-infrastruktur"
                ],
                correct: 1,
                explanation: {
                    correct: "Korrekt! En medarbetare identifierade samverkan som en utmaning: 'Det spretar lite i K√§vlinge kommun. Det √§r olika sektorer och ibland jobbar flera av dem med samma familj fast med olika glas√∂gon.' Detta √§r en viktig insikt ‚Äì kommunen har bra verksamheter men beh√∂ver f√∂rb√§ttra hur olika delar samarbetar. Som controller kan du bidra till b√§ttre samverkan genom gemensamma ekonomiska uppf√∂ljningssystem och processer.",
                    incorrect: "Fel. Den identifierade utmaningen √§r samverkan mellan olika sektorer. Som en medarbetare uttryckte det: olika sektorer arbetar ibland med samma familj men med olika perspektiv, vilket g√∂r att kommunen kan upplevas som 'spretig' f√∂r medborgaren. Detta √§r en viktig utmaning f√∂r en controller att f√∂rst√• ‚Äì ekonomistyrning handlar inte bara om siffror utan om att skapa system som underl√§ttar samverkan och helhetssyn.",
                    reference: "K√§vlinge kommun (2026) Arbetsliv och fritid. Tillg√§nglig: https://jobb.kavlinge.se/department/arbetslivochfritid/ [H√§mtad 12 januari 2026]."
                }
            },
            {
                question: "Vad √§r controllerns roll i Sektor Arbetsliv och fritids ledningsgrupp?",
                options: [
                    "Endast att rapportera ekonomiska utfall",
                    "Att vara en strategisk partner som kombinerar ekonomisk expertis med verksamhetsf√∂rst√•else och systemutveckling",
                    "Att granska och kontrollera verksamhetschefernas beslut",
                    "Att hantera l√∂neadministration"
                ],
                correct: 1,
                explanation: {
                    correct: "Utm√§rkt! Controllern f√∂rv√§ntas vara en strategisk partner i ledningsgruppen ‚Äì inte bara en 'sifferperson'. Detta inneb√§r att kombinera ekonomisk expertis med djup verksamhetsf√∂rst√•else, utveckla st√∂dsystem som Hypergene, och bidra till strategiska diskussioner. Det √§r en aktiv roll d√§r du f√∂rv√§ntas utmana, analysera och f√∂resl√• f√∂rb√§ttringar baserat p√• b√•de ekonomiska och verksamhetsm√§ssiga grunder.",
                    incorrect: "Fel. Controllern ska vara en strategisk partner i ledningsgruppen. Detta √§r mycket mer √§n att bara rapportera siffror ‚Äì det handlar om att vara verksamhetsn√§ra, f√∂rst√• utmaningarna i olika delar av sektorn (fr√•n kulturskola till socialtj√§nst), och kunna √∂vers√§tta mellan ekonomi och verksamhet. Det kr√§ver b√•de analytisk sk√§rpa och pedagogisk f√∂rm√•ga. En modern controller √§r en katalysator f√∂r verksamhetsutveckling, inte bara en granskare.",
                    reference: "K√§vlinge kommun (2025) PM Controller ‚Äì Sektor Arbetsliv och fritid. Intern handledning. K√§vlinge: K√§vlinge kommun."
                }
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let userAnswers = [];

        function startQuiz() {
            document.getElementById('introScreen').style.display = 'none';
            document.getElementById('quizContent').style.display = 'block';
            document.getElementById('totalQuestions').textContent = quizData.length;
            renderQuestion();
        }

        function renderQuestion() {
            const container = document.getElementById('questionsContainer');
            container.innerHTML = '';

            const questionData = quizData[currentQuestionIndex];
            
            const questionDiv = document.createElement('div');
            questionDiv.className = 'question-container active';
            
            questionDiv.innerHTML = `
                <div class="question-number">Fr√•ga ${currentQuestionIndex + 1} av ${quizData.length}</div>
                <div class="question-text">${questionData.question}</div>
                <div class="options">
                    ${questionData.options.map((option, index) => `
                        <div class="option" onclick="selectAnswer(${index})">
                            <span class="option-letter">${String.fromCharCode(65 + index)}</span>
                            <span>${option}</span>
                        </div>
                    `).join('')}
                </div>
                <div class="explanation" id="explanation"></div>
            `;
            
            container.appendChild(questionDiv);
            
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            updateNavigationButtons();
        }

        function selectAnswer(answerIndex) {
            if (userAnswers[currentQuestionIndex] !== undefined) return;
            
            userAnswers[currentQuestionIndex] = answerIndex;
            const questionData = quizData[currentQuestionIndex];
            const options = document.querySelectorAll('.option');
            
            options.forEach((option, index) => {
                option.classList.add('disabled');
                if (index === questionData.correct) {
                    option.classList.add('correct');
                }
                if (index === answerIndex && index !== questionData.correct) {
                    option.classList.add('incorrect');
                }
            });

            if (answerIndex === questionData.correct) {
                score++;
            }

            showExplanation(answerIndex === questionData.correct);
            document.getElementById('nextBtn').disabled = false;
        }

        function showExplanation(isCorrect) {
            const questionData = quizData[currentQuestionIndex];
            const explanationDiv = document.getElementById('explanation');
            
            explanationDiv.innerHTML = `
                <h4>${isCorrect ? '‚úÖ Korrekt svar!' : '‚ùå Fel svar'}</h4>
                <p><strong>F√∂rklaring:</strong></p>
                <p>${isCorrect ? questionData.explanation.correct : questionData.explanation.incorrect}</p>
                <div class="reference">
                    <strong>K√§lla:</strong> ${questionData.explanation.reference}
                </div>
            `;
            explanationDiv.classList.add('show');
        }

        function nextQuestion() {
            if (currentQuestionIndex < quizData.length - 1) {
                currentQuestionIndex++;
                renderQuestion();
                document.getElementById('nextBtn').disabled = true;
            } else {
                showResults();
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                renderQuestion();
                
                if (userAnswers[currentQuestionIndex] !== undefined) {
                    const answerIndex = userAnswers[currentQuestionIndex];
                    const options = document.querySelectorAll('.option');
                    const questionData = quizData[currentQuestionIndex];
                    
                    options.forEach((option, index) => {
                        option.classList.add('disabled');
                        if (index === questionData.correct) {
                            option.classList.add('correct');
                        }
                        if (index === answerIndex && index !== questionData.correct) {
                            option.classList.add('incorrect');
                        }
                    });
                    
                    showExplanation(answerIndex === questionData.correct);
                    document.getElementById('nextBtn').disabled = false;
                }
            }
        }

        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            prevBtn.style.display = currentQuestionIndex === 0 ? 'none' : 'block';
            nextBtn.textContent = currentQuestionIndex === quizData.length - 1 ? 'Se resultat' : 'N√§sta ‚Üí';
        }

        function showResults() {
            document.getElementById('quizContent').style.display = 'none';
            document.getElementById('resultScreen').classList.add('show');
            
            const percentage = Math.round((score / quizData.length) * 100);
            document.getElementById('finalScore').textContent = `${score}/${quizData.length}`;
            document.getElementById('scorePercent').textContent = `${percentage}%`;
            
            setTimeout(() => {
                document.getElementById('scoreFill').style.width = `${percentage}%`;
            }, 100);
            
            let message = '';
            if (percentage === 100) {
                message = 'üèÜ Perfekt! Du har utm√§rkt kunskap om K√§vlinge kommun och Sektor Arbetsliv och fritid!';
            } else if (percentage >= 80) {
                message = 'üåü Mycket bra! Du har god f√∂rst√•else f√∂r sektorn och controller-rollen.';
            } else if (percentage >= 60) {
                message = 'üëç Bra jobbat! Du har grundl√§ggande kunskap, men det finns mer att l√§ra.';
            } else if (percentage >= 40) {
                message = 'üìö Du har viss kunskap, men rekommenderas att l√§sa mer om sektorn.';
            } else {
                message = 'üí™ Forts√§tt l√§ra! Granska svaren och f√∂rdjupa dig i materialet.';
            }
            
            document.getElementById('resultMessage').textContent = message;
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            userAnswers = [];
            
            document.getElementById('resultScreen').classList.remove('show');
            document.getElementById('introScreen').style.display = 'block';
            document.getElementById('scoreFill').style.width = '0%';
        }

        function reviewAnswers() {
            currentQuestionIndex = 0;
            document.getElementById('resultScreen').classList.remove('show');
            document.getElementById('quizContent').style.display = 'block';
            renderQuestion();
            
            if (userAnswers[0] !== undefined) {
                const answerIndex = userAnswers[0];
                const options = document.querySelectorAll('.option');
                const questionData = quizData[0];
                
                options.forEach((option, index) => {
                    option.classList.add('disabled');
                    if (index === questionData.correct) {
                        option.classList.add('correct');
                    }
                    if (index === answerIndex && index !== questionData.correct) {
                        option.classList.add('incorrect');
                    }
                });
                
                showExplanation(answerIndex === questionData.correct);
                document.getElementById('nextBtn').disabled = false;
            }
        }
    </script>
</body>
</html>
